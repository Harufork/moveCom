{% extends 'base.html' %}

{% block content %}
<main>
	<div class="card">
		<h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
		<p>–ï—Å–ª–∏ —É –≤–∞—Å —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —Ç–æ –º–æ–∂–µ—Ç–µ <a href="">—Å–≤—è–∑–∞—Ç—å—Å—è</a> —Å –Ω–∞—à–∏–º –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä–æ–º –∏–ª–∏ <a href="">–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a> –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é, –≤ —Å–ª—É—á–∞–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–µ—Ä–µ–µ–∑–¥–∞. </p>
	</div>
	<div class="card newrequestmove">

			<form action="" method="post">
				{% csrf_token %}
		        <table>
		        	{{ mvreq_form }}
		        </table>
<!-- 		        <ul>
		        	<li>
		        		<label for="">{{form.renewal_date}}</label>
		        	</li>
		        </ul> -->
		        <div class="calloda">
		        	<div class="mini_card">		        
			        	<h3>–¢–æ—á–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</h3>
				        <ul id="adding_route">
				        	<input type="hidden" id="routs_count" value={{routs_count}}>
					        {% for r in routs %}
						        <li id="zero_route">
						        	<input id="point_a{{forloop.counter0}}" name="point_a{{forloop.counter0}}" type="text" placeholder="–û—Ç–∫—É–¥–∞" value="{{r.0}}" class="
						        	{% if not r.2 %}
						        	dont_valid
						        	{% endif %}
						        	">
						        	<span>ü°¢</span>
						        	<input id="point_b{{forloop.counter0}}" name="point_b{{forloop.counter0}}" type="text" placeholder="–ö—É–¥–∞" value="{{r.1}}" class="
						        	{% if not r.3 %}
						        	dont_valid
						        	{% endif %}
						        	">
						        	{% if not r.2 or not r.3%}
						        		<label for="{% if not r.2 %}point_a{% else %}point_b{% endif %}{{forloop.counter0}}" class="dont_valid_label">–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.</label>
						        	{% endif %}
						        </li>
					        {% endfor %}
				        </ul>
				        <input id="add_route" class="abtn" type="button" value="–î–æ–±–∞–≤–∏—Ç—å">
			        </div>

					<div class="mini_card">		        
			        	<h3>–ü–µ—Ä—Å–æ–Ω–∞–ª</h3>
				        <ul>
				        	{% load order_extras %}
					        {% for er in employee_roles %}
					        <li>
					        	<label for="er_quan_{{ er.pk }}">{{ er }}</label>
					        	<input id="er_quan_{{ er.pk }}" name="er_quan_{{ er.pk }}" type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞" value="{{ emp_roles_post|get_quan:er.pk }}" class="{% if emp_roles_post|get_nothing_quan:er.pk %}dont_valid{% endif %}">
					        	<input id="er_hird_{{ er.pk }}" name="er_hird_{{ er.pk }}" type="number" min="0" placeholder="–í—Ä–µ–º—è –Ω–∞–π–º–∞ (–≤ —á–∞—Å–∞—Ö)" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–π–º–∞ –≤ —á–∞—Å–∞—Ö" value="{{ emp_roles_post|get_hird:er.pk }}" class="{% if emp_roles_post|get_nothing_hird:er.pk %}dont_valid{% endif %}">

					        	{% if emp_roles_post|get_nothing_hird:er.pk or emp_roles_post|get_nothing_quan:er.pk %}
					        	<label for="{% if emp_roles_post|get_nothing_hird:er.pk %}er_hird_{{er.pk}}{% else %}er_quan_{{er.pk}}{% endif %}" class="dont_valid_label">–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.</label>
					        	{% endif %}
					        </li>
					        {% endfor %}
				        </ul>
			        </div>

					<div class="mini_card">
				        <h3>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h3>
				        <ul>
				        	{% if nothing_mode_transport %}
				        		<p class="dont_valid_label">–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ.</p>
				        	{% endif %}
					        {% for mt in mode_transports %}
					        <li>
					        	<label for="mt_quan_{{ mt.pk }}">{{ mt }}</label>
					        	<input id="mt_quan_{{ mt.pk }}" name="mt_quan_{{ mt.pk }}" type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞" value="{{ mode_transport_post|get_quan:mt.pk }}" class="{% if mode_transport_post|get_nothing_quan:mt.pk %}dont_valid{% endif %}">
					        	<input id="mt_hird_{{ mt.pk }}" name="mt_hird_{{ mt.pk }}" type="number" min="0" placeholder="–í—Ä–µ–º—è –Ω–∞–π–º–∞ (–≤ —á–∞—Å–∞—Ö)" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–π–º–∞ –≤ —á–∞—Å–∞—Ö" value="{{ mode_transport_post|get_hird:mt.pk }}" class="{% if mode_transport_post|get_nothing_hird:mt.pk %}dont_valid{% endif %}">

					        	{% if mode_transport_post|get_nothing_hird:mt.pk or mode_transport_post|get_nothing_quan:mt.pk %}
					        	<label for="{% if mode_transport_post|get_nothing_hird:mt.pk %}mt_hird_{{mt.pk}}{% else %}mt_quan_{{mt.pk}}{% endif %}" class="dont_valid_label">–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.</label>
					        	{% endif %}
					        </li>
					        {% endfor %}
				        </ul>
					</div>

					<div class="mini_card">
			        	<h3>–£–ø–∞–∫–æ–≤–æ—á–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª</h3>
				        <ul>
				        	{% for tp, packing in type_packings_with_packings.items %}
					        	{% if packing %}
					        	<li>{{ tp }}
						        	<ul>
						        		{% for p in packing %}
						        			<li>
						        				{{ p.name }}
						        				<input name="p_{{p.pk}}" type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø–∞–∫–æ–≤–æ—á–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞" value="{{packing_post|get:p.pk}}">
						        			</li>
						        		{% endfor %}
					        		</ul>
					        	</li>
					        	{% endif %}
				        	{% endfor %}
				        </ul>
			    	</div>
		    	</div>
		    	{{ help_text }}
			    <input class="abtn btnfocus" type="submit" value="–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É">
			</form>
		{% if type_packings_with_packings and mode_transports and employee_roles %}
		{% else %}
			<h2>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞</h2>
    		<p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É —Ç–µ—Ö. –ø–æ–¥–¥–µ–∂—Ä–∫–∏, –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –Ω–∞—à –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω.</p>
        {% endif %}
	</div>
</main>
{% endblock %}