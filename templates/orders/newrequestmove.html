{% extends 'base.html' %}
{% block content %}
<main>
    <div class="card">
        <h3>–û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞</h3>
        <p>–ï—Å–ª–∏ —É –≤–∞—Å —á—Ç–æ-—Ç–æ –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç—Å—è, —Ç–æ –º–æ–∂–µ—Ç–µ <a href="">—Å–≤—è–∑–∞—Ç—å—Å—è</a> —Å –Ω–∞—à–∏–º –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä–æ–º –∏–ª–∏ <a href="">–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</a> –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é, –≤ —Å–ª—É—á–∞–µ —Å–ª–æ–∂–Ω–æ—Å—Ç–µ–π —Å –∞–Ω–∞–ª–∏–∑–æ–º –ø–µ—Ä–µ–µ–∑–¥–∞. </p>
    </div>
    <div class="card newrequestmove">
        <form action="" method="POST">
            {% csrf_token %}
            <div class="two_up_card">
                <div>
                    {{ mvreq_form.time_type.label_tag }}{{ mvreq_form.time_type }}
                    <div>{% for error in mvreq_form.time_type.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.time_type.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}</div>
                    {{ mvreq_form.date_of_completion.label_tag }}{{ mvreq_form.date_of_completion }}{{ mvreq_form.time_of_completion }}
                    <div>
                        {% for error in mvreq_form.date_of_completion.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.date_of_completion.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}
                    </div>
                    <div>
                        {% for error in mvreq_form.time_of_completion.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.time_of_completion.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}
                    </div>
                    {{ mvreq_form.full_name.label_tag }}{{ mvreq_form.full_name }}
                    <div>
                        {% for error in mvreq_form.full_name.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.full_name.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}
                    </div>
                </div>
                <div>
                    {{ mvreq_form.receiving_packaging.label_tag }}{{ mvreq_form.receiving_packaging }}
                    <div>
                        {% for error in mvreq_form.receiving_packaging.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.receiving_packaging.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}
                    </div>
                    {{ mvreq_form.payment_type.label_tag }}{{ mvreq_form.payment_type }}
                    <div>
                        {% for error in mvreq_form.payment_type.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.payment_type.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}
                    </div>
                    {{ mvreq_form.phone_number.label_tag }}{{ mvreq_form.phone_number }}
                    <div>
                        {% for error in mvreq_form.phone_number.errors %}
                        <label class="dont_valid_label" for="{{mvreq_form.phone_number.id_for_label}}">{{error|escape}}</label>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="calloda">
                <div class="routs">
                    <h3>–¢–æ—á–∫–∏ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è</h3>
                    <ul id="adding_route">
                        <input type="hidden" id="routs_count" value={{routs_count}}>
                        {% for r in routs %}
                        <li id="zero_route">
                            <input id="point_a{{forloop.counter0}}" name="point_a{{forloop.counter0}}" type="text" placeholder="–û—Ç–∫—É–¥–∞" value="{{r.0}}" class="
						        	{% if not r.2 %}
						        	dont_valid
						        	{% endif %}
						        	">
                            <span>ü°¢</span>
                            <input id="point_b{{forloop.counter0}}" name="point_b{{forloop.counter0}}" type="text" placeholder="–ö—É–¥–∞" value="{{r.1}}" class="
						        	{% if not r.3 %}
						        	dont_valid
						        	{% endif %}
						        	">
                            {% if not r.2 or not r.3%}
                            <label for="{% if not r.2 %}point_a{% else %}point_b{% endif %}{{forloop.counter0}}" class="dont_valid_label">–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.</label>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ul>
                    <input id="add_route" class="abtn" type="button" value="–î–æ–±–∞–≤–∏—Ç—å">
                </div>
                <div class="personal_and_transport">
                    <h3>–ü–µ—Ä—Å–æ–Ω–∞–ª</h3>
                    {% load order_extras %}
                    {% for er in employee_roles %}
                    <div class="row_content_newrequestmove">
                        <div class="img_and_describtion_row_content_newrequestmove">
                            <label for="er_quan_{{ er.pk }}">{% if er.image %}<img src="{{er.image.url}}">{% else %}<img>{% endif %}</label>
                            <div class="describtion_row_content_newrequestmove">
                                <h3><label for="er_quan_{{ er.pk }}">{{ er }}</label></h3>
                                <p>{{er.description}}</p>
                            </div>
                        </div>
                        <div class="input_row_content_newrequestmove">
                            <div>
                                <label for="er_quan_{{ er.pk }}">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                                <input id="er_quan_{{ er.pk }}" name="er_quan_{{ er.pk }}" type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞" value="{{ emp_roles_post|get_quan:er.pk }}" class="{% if emp_roles_post|get_nothing_quan:er.pk %}dont_valid{% endif %}">
                            </div>
                            <div>
                                <label for="er_hird_{{ er.pk }}">–í—Ä–µ–º—è:</label>
                                <input id="er_hird_{{ er.pk }}" name="er_hird_{{ er.pk }}" type="number" min="0" placeholder="–í—Ä–µ–º—è –Ω–∞–π–º–∞ (–≤ —á–∞—Å–∞—Ö)" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–π–º–∞ –≤ —á–∞—Å–∞—Ö" value="{{ emp_roles_post|get_hird:er.pk }}" class="{% if emp_roles_post|get_nothing_hird:er.pk %}dont_valid{% endif %}">
                            </div>
                            {% if emp_roles_post|get_nothing_hird:er.pk or emp_roles_post|get_nothing_quan:er.pk %}
                            <label for="{% if emp_roles_post|get_nothing_hird:er.pk %}er_hird_{{er.pk}}{% else %}er_quan_{{er.pk}}{% endif %}" class="dont_valid_label">–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.</label>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="personal_and_transport">
                    <h3>–¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç</h3>
                    {% if nothing_mode_transport %}
                    <p class="dont_valid_label">–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—ã–±—Ä–∞—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω–æ–µ —Å—Ä–µ–¥—Å—Ç–≤–æ.</p>
                    {% endif %}
                    {% for mt in mode_transports %}
                    <div class="row_content_newrequestmove">
                        <div class="img_and_describtion_row_content_newrequestmove">
                            <label for="mt_quan_{{ mt.pk }}">{% if mt.image %}<img src="{{mt.image.url}}">{% else %}<img>{% endif %}</label>
                            <div class="describtion_row_content_newrequestmove">
                                <h3><label for="mt_quan_{{ mt.pk }}">{{ mt }}</label></h3>
                                <p>{{mt.description}}</p>
                            </div>
                        </div>
                        <div class="input_row_content_newrequestmove">
                            <div>
                                <label for="mt_quan_{{ mt.pk }}">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                                <input id="mt_quan_{{ mt.pk }}" name="mt_quan_{{ mt.pk }}" type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞" value="{{ mode_transport_post|get_quan:mt.pk }}" class="{% if mode_transport_post|get_nothing_quan:mt.pk %}dont_valid{% endif %}">
                            </div>
                            <div>
                                <label for="mt_hird_{{ mt.pk }}">–í—Ä–µ–º—è:</label>
                                <input id="mt_hird_{{ mt.pk }}" name="mt_hird_{{ mt.pk }}" type="number" min="0" placeholder="–í—Ä–µ–º—è –Ω–∞–π–º–∞ (–≤ —á–∞—Å–∞—Ö)" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –≤—Ä–µ–º—è –Ω–∞–π–º–∞ –≤ —á–∞—Å–∞—Ö" value="{{ mode_transport_post|get_hird:mt.pk }}" class="{% if mode_transport_post|get_nothing_hird:mt.pk %}dont_valid{% endif %}">
                            </div>
                            {% if mode_transport_post|get_nothing_hird:mt.pk or mode_transport_post|get_nothing_quan:mt.pk %}
                            <label for="{% if mode_transport_post|get_nothing_hird:mt.pk %}mt_hird_{{mt.pk}}{% else %}mt_quan_{{mt.pk}}{% endif %}" class="dont_valid_label">–ü–æ–ª–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–æ.</label>
                            {% endif %}
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <div class="personal_and_transport">
                    <h3>–£–ø–∞–∫–æ–≤–æ—á–Ω—ã–π –º–∞—Ç–µ—Ä–∏–∞–ª</h3>
                    {% for tp, packing in type_packings_with_packings.items %}
                    {% if packing %}
                    <h4>-{{ tp }}-</h4>
                    {% for p in packing %}
                    <div class="row_content_newrequestmove newreq_packing">
                        <div class="img_and_describtion_row_content_newrequestmove">
                            <label for="p_{{p.pk}}">{% if p.image %}<img src="{{p.image.url}}">{% else %}<img>{% endif %}</label>
                            <div class="describtion_row_content_newrequestmove">
                                <h4><label for="p_{{p.pk}}">{{ p.name }}</label></h4>
                                <p>{{p.description}}</p>
                            </div>
                        </div>
                        <div class="input_row_content_newrequestmove">
                            <div>
                                <label for="p_{{p.pk}}">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ:</label>
                                  <input id="p_{{p.pk}}" name="p_{{p.pk}}" type="number" min="0" placeholder="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ" title="–í–≤–µ–¥–∏—Ç–µ —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–ø–∞–∫–æ–≤–æ—á–Ω–æ–≥–æ –º–∞—Ç–µ—Ä–∏–∞–ª–∞" value="{{packing_post|get:p.pk}}">
                                <span>{{p.unit}}</span>
                            </div>
                        </div>
                    </div>
                    {% endfor %}
                    {% endif %}
                    {% endfor %}
                </div>
            </div>
            <p>{{ help_text }}</p>
            <input class="abtn btnfocus" type="submit" value="–û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É">
            
        </form>
        {% if type_packings_with_packings and mode_transports and employee_roles %}
        {% else %}
        <h2>–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–∞–≤–ª—å–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞</h2>
        <p>–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫, –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ —Å–ª—É–∂–±—É —Ç–µ—Ö. –ø–æ–¥–¥–µ–∂—Ä–∫–∏, –∏–ª–∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –Ω–∞—à –∫–æ–ª–ª-—Ü–µ–Ω—Ç—Ä –¥–ª—è —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–∫–∞–∑–∞ —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω.</p>
        {% endif %}
    </div>
</main>
{% endblock %}